<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>JS Bin</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.1.0/leaflet.css" />

  <style media="screen">
    html,
    body {
      margin-top: : -10px;
      margin-left: 0px;
    }

     ::-webkit-scrollbar {
      display: none;
    }

    #map {
      height: 100vh;
      width: 100vw;
    }
  </style>

  <script src="http://api.tiles.mapbox.com/mapbox.js/plugins/turf/v1.4.0/turf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.1.0/leaflet.js"></script>
  <script src="https://code.jquery.com/jquery-3.0.0.js"></script>
  <script src="json.js" charset="utf-8"></script>
</head>

<body>

  <div id="map"></div>
  <script type="text/javascript">
    console.clear();
    console.log("start")
    let center = [51.456833271738105, 3.589069903159422]
    let map = L.map('map').setView(center, 15);

    // Set up the OSM layer
    L.tileLayer(
      'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 18
      }).addTo(map);

    add = (ll) => {
      L.marker(ll).addTo(map);
    }

    addC = (ll) => {
      var circle = L.circle(ll, {
        color: 'blue',
        stroke: false,
        fillColor: '#66a',
        fillOpacity: 0.6,
        radius: 30
      }).addTo(map);
    }

    run = () => {
      // points in shafi.js
      console.log(json.length)
      for (let i = 0; i < json.length; i++) {
        const o = json[i]
        const coord = [o.lat, o.lng];
        addC(coord)
      }
    }

    //add(center)

    setTimeout(() => {
      //console.log(test)
      run()
    }, 1500)
  </script>

</body>

</html>
